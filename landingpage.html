<!DOCTYPE <!DOCTYPE html>
<html>
<head>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<script src="https://cdn.firebase.com/js/client/2.3.0/firebase.js"></script>
	<link rel="stylesheet" type="text/css" href="landingpage.css"/>
	<script src="site.js"></script>
	<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-MfvZlkHCEqatNoGiOXveE8FIwMzZg4W85qfrfIFBfYc= sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ==" crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Lato|Muli"/>
	<title>Travelogue</title>
</head>
	<body>
		<div class='homeHeader'>
			<div id="button_header">
				<button id='submitButton'>Submit an Itinerary</button>
			</div>
		</div>
		<div id="homeTitle">
			<h1 id='landingHeader'>Where do you want to go?</h1>
		</div>
		<form id="searchBox">
			<input placeholder='Enter location' type=text id='search_location' name='name'>
		</form>
		<div id='Explore'>
			<div>
				<h4 id='exploreHeader'>Explore</h4>
			</div>
			<table id='table'>
				<tbody>
					<tr class='images'>
						<!-- <td>
							<img src="images/sanfrancisco.jpg" height="150px" width="180px">
						</td>
						<td>
							<img src="images/paris.jpg" height="150px" width="180px">
						</td>
						<td>
							<img src="images/shanghai.jpg" height="150px" width="180px">
						</td> -->
					</tr>
				</tbody>
			</table>
		</div>
	</body>

<!-- 	test test -->

	<script type="text/javascript">
	var ref = new Firebase("https://amber-heat-5381.firebaseio.com");
	//console.logs the information about destination.
	function searchForDestination(destination) {
		ref.orderByChild("destination").equalTo(destination).on("child_added", function(snapshot) {
			console.log(snapshot.val());
		});
	}
	//on submit, takes the value inside the search and uses it to get values
	$('form').submit(function(e){
		searchForDestination(e.val());
	});
	//puts last 3 in boxes below the search
	ref.orderByChild("destination").limitToLast(3).on("child_added", function(snapshot) {
  		var data = snapshot.val();
		$('.images').append('<td>Destination: ' + data.destination + '<br> Date: '+ data.date +'</td>' );
	});


	</script>
</html>
